# 词法分析器

在编译器理解输入程序的三个过程中，词法分析是第一阶段。词法分析器读取字符流，并产生单词流。它聚合字符形成单词，并应用一组规则来判断每个单词在源语言中是否合法。如果单词有效，词法分析器会分配给它一个语法范畴或词类。

## 概念路线图

1. 识别器：识别器是在字符流中识别特定单词的程序。有限自动机是识别器的一种形式化方法。
2. 正则表达式是一种用于定义语法的形式记号。
3. 一组构造方法，用于将正则表达式转换为识别器。
4. 实现词法分析器的三种不同的方式：表驱动词法分析器、直接编码的词法分析器和手工编码方法。

## 识别单词

对于需要实现转移图（transition diagram）的代码来说，转移图充当了这些代码的抽象。转移图还可以看作是形式化的数学对象，成为有限自动机，它定义了识别器的规格。<br>
形式上，有限自动机（FA）是一个五元数组(S, ∑, δ, s<sub>0</sub>, S<sub>A</sub>)，其中各分量的含义如下所示：
- S是识别器中的有限状态集，
- ∑是识别器中使用的有限字母表。通常，∑是转移图中边的标签的合集。
- δ(s, c)是识别器的转移函数。它将每个状态s ∈ S和每个字符c ∈ ∑的组合(s, c)映射到下一个状态。在状态s<sub>i</sub>遇到输入字符c，FA将采用转移s<sub>i</sub>→<sup>c</sup>δ(s<sub>i</sub>, c)。
- s<sub>0</sub> ∈ S是指定的起始状态。
- S<sub>A</sub>是接受状态的集合，S<sub>A</sub> ⊆ S。 S<sub>A</sub>中的每个状态都在转移图中表示为双层圆圈。

FA接受字符串的三种情况：
1. （正确）每个字符输入符合相应的状态转移，并在耗尽所有字符输入后处于接受状态。
2. （错误）FA在处理字符串时遇到错误——即某个字符x<sub>j</sub>可能使FA转移到错误状态s<sub>e</sub>。这种情况表明发生了词法错误。
3. （错误）FA耗尽其输入后，终止于s<sub>e</sub>之外的某个非接受状态。
